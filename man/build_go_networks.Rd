% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/network.R
\name{build_go_networks}
\alias{build_go_networks}
\title{Build Per-Ontology GO Term Networks (capped + scalable)}
\usage{
build_go_networks(
  df,
  label,
  size_by = "gene_count",
  min_shared_genes = 2,
  sep_regex = "[,;]",
  min_gene_count = 3,
  analysis_cap_per_ontology = 500,
  plotting_cap_per_ontology = 200,
  edge_metric = "shared",
  min_jaccard = 0.1,
  use_sparse = TRUE,
  outdir = getwd()
)
}
\arguments{
\item{df}{Subset of consensus table (columns: \code{term_id}, \code{term_name}, \code{ontology}, \code{all_genes},
\code{origin}, \code{in_goseq}, \code{significant_in_any}, \code{consensus_score}, optionally \code{consensus_score_all} and a GOseq p-value column).}

\item{label}{Output subfolder under \code{outdir/networks}. (Expected: "with_bg" or "with_bg_and_nobg")}

\item{size_by}{\code{"gene_count"} (default) or \code{"consensus_score"} for node sizing.}

\item{min_shared_genes}{Edge threshold when \code{edge_metric="shared"}. Default \code{2}.}

\item{sep_regex}{Regex for splitting \code{all_genes}. Default \code{"[,;]"}.}

\item{min_gene_count}{Drop terms with < this many genes before ranking. Default \code{3}.}

\item{analysis_cap_per_ontology}{Hard cap per ontology before edges (for graph+stats). Default \code{500}.}

\item{plotting_cap_per_ontology}{Cap used only for plotting. Default \code{200}.}

\item{edge_metric}{\code{"shared"} or \code{"jaccard"}. Default \code{"shared"}.}

\item{min_jaccard}{Minimum Jaccard when \code{edge_metric="jaccard"}. Default \code{0.1}.}

\item{use_sparse}{Use sparse overlap path. Default \code{TRUE}.}

\item{outdir}{Base output directory.}
}
\value{
Writes files; returns \code{NULL} (invisibly).
}
\description{
Constructs GO-term overlap networks using a pre-capped set of terms per ontology,
ranked fairly: \emph{Consensus/g:Profiler} terms by the relevant consensus score, and
\emph{GOseq-only} terms by \code{âˆ’log10(p)} (auto-detected p column). Uses a
sparse \code{Matrix::tcrossprod} path by default for speed.
}
